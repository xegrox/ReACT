/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/alpine-turbo-drive-adapter@2.0.0/dist/alpine-turbo-drive-adapter.esm.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
function isValidVersion(e,t){for(var a=e.split("."),i=t.split("."),r=0;r<a.length;r++)if(i[r]&&i[r]>a[r])return!0;return i[a.length-1]===a[a.length-1]}function dispatch(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.dispatchEvent(new CustomEvent(t,{detail:a,bubbles:!0,composed:!0,cancelable:!0}))}class Bridge{init(){if(!window.Alpine.version||!isValidVersion("3.0.0",window.Alpine.version))throw new Error("Invalid Alpine version. Please use Alpine 3.0.0 or above");window.Alpine.mutateDom((()=>{document.body.querySelectorAll("[x-cloak]").forEach((e=>{var t;e.setAttribute("data-alpine-was-cloaked",null!==(t=e.getAttribute("x-cloak"))&&void 0!==t?t:"")}))})),this.configureEventHandlers()}configureEventHandlers(){document.addEventListener("turbo:render",(e=>{document.documentElement.hasAttribute("data-turbo-preview")||(dispatch(document,"alpine:init"),dispatch(document,"alpine:initializing"),window.Alpine.flushAndStopDeferringMutations(),dispatch(document,"alpine:initialised"),window.Alpine.mutateDom((()=>{document.querySelectorAll("[data-alpine-ignored]").forEach((e=>{e.removeAttribute("x-ignore"),e.removeAttribute("data-alpine-ignored")}))})))})),document.addEventListener("turbo:before-render",(e=>{window.Alpine.mutateDom((()=>{document.documentElement.hasAttribute("data-turbo-preview")||e.detail.newBody.querySelectorAll("[data-alpine-generated-me],[x-cloak]").forEach((e=>{var t;e.hasAttribute("x-cloak")&&e.setAttribute("data-alpine-was-cloaked",null!==(t=e.getAttribute("x-cloak"))&&void 0!==t?t:"");e.hasAttribute("data-alpine-generated-me")&&(e.removeAttribute("data-alpine-generated-me"),e.remove())}))})),window.Alpine.deferMutations()})),document.addEventListener("turbo:before-cache",(e=>{window.Alpine.mutateDom((()=>{document.body.querySelectorAll("[x-for],[x-if],[data-alpine-was-cloaked]").forEach((e=>{var t;e.hasAttribute("data-alpine-was-cloaked")&&(e.setAttribute("x-cloak",null!==(t=e.getAttribute("data-alpine-was-cloaked"))&&void 0!==t?t:""),e.removeAttribute("data-alpine-was-cloaked"));e.hasAttribute("x-for")&&e._x_lookup&&Object.values(e._x_lookup).forEach((e=>e.setAttribute("data-alpine-generated-me",!0))),e.hasAttribute("x-if")&&e._x_currentIfEl&&e._x_currentIfEl.setAttribute("data-alpine-generated-me",!0)}))})),document.querySelectorAll("[data-turbo-permanent]").forEach((e=>{window.Alpine.mutateDom((()=>{e.hasAttribute("x-ignore")||(e.setAttribute("x-ignore",!0),e.setAttribute("data-alpine-ignored",!0)),e.querySelectorAll("[data-alpine-generated-me]").forEach((e=>{e.removeAttribute("data-alpine-generated-me")}))}))}))}))}}window.Alpine&&console.error("Alpine-turbo-drive-adapter must be included before AlpineJs"),Object.getOwnPropertyDescriptor(NodeList.prototype,"forEach")||Object.defineProperty(NodeList.prototype,"forEach",Object.getOwnPropertyDescriptor(Array.prototype,"forEach")),document.addEventListener("alpine:init",(()=>{(new Bridge).init()}),{once:!0});
//# sourceMappingURL=/sm/c422b52dd56849ab7b656ca67b7492c5bf367da202a3cbeb58d4cfaecb087f37.map